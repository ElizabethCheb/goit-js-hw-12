import{S as m,a as E}from"./assets/vendor-c5fbf7c4.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const s of e.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function a(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(o){if(o.ep)return;o.ep=!0;const e=a(o);fetch(o.href,e)}})();let l=0;const p="41856148-e541297002e84807a45dae6d1",b=document.getElementById("search-form"),y=document.getElementById("search-input"),g=document.getElementById("gallery"),i=document.getElementById("load-more-button-container"),L=document.getElementById("load-more-button");let c=1,d;i.style.display="none";b.addEventListener("submit",function(t){t.preventDefault();const n=y.value.trim();h(n,p)});document.addEventListener("DOMContentLoaded",function(){d=new m(".gallery a",{})});L.addEventListener("click",()=>{f()});async function h(t,n,a=1){const r=`https://pixabay.com/api/?key=${n}&q=${t}&image_type=photo&orientation=horizontal&safesearch=true&page=${a}&per_page=40`;try{v();const e=(await E.get(r)).data;if(u(),e.hits.length===0){C();return}I(e.hits),l=e.totalHits||0,c*40>=l?i.style.display="none":i.style.display="flex"}catch(o){console.error("Error fetching data:",o),u()}}function v(){const t=document.createElement("div");t.className="loading-indicator",t.innerText="Loading...",document.body.appendChild(t)}function u(){const t=document.querySelector(".loading-indicator");t&&t.remove()}function C(){const t=document.createElement("div");t.className="toast-container";const n=document.createElement("span");n.className="decorative-icon",n.innerHTML="&#9737;";const a=document.createElement("p");a.innerText="Sorry, there are no images matching your search query. Please, try again!";const r=document.createElement("span");r.className="close-button",r.innerHTML="&times;",t.appendChild(n),t.appendChild(a),t.appendChild(r),document.body.appendChild(t),r.addEventListener("click",()=>{t.remove()})}function I(t){const n=document.createDocumentFragment();t.forEach(o=>{const e=document.createElement("a");e.href=o.webformatURL;const s=document.createElement("img");s.src=o.webformatURL,s.alt=o.tags,e.style.width="calc((100% - 32px) / 3)",e.style.height="auto",s.style.width="100%",s.style.height="100%",e.style.marginBottom="16px",e.style.display="block",e.appendChild(s),n.appendChild(e)}),g.appendChild(n);const a=document.createElement("button");a.textContent="Load more",a.id="load-more-button",a.addEventListener("click",f),i.appendChild(a),d&&d.refresh(),c*40>=l?i.style.display="none":i.style.display="flex"}async function f(){c++;const t=y.value.trim();await h(t,p,c);const n=40;console.log("Current Page:",c),console.log("Total Hits:",l),console.log("Condition:",c*n>=l),c*n>=l?(i.style.display="none",console.log("Button should be hidden.")):(i.style.display="flex",console.log("Button should be visible."));const a=g.firstElementChild.clientHeight;window.scrollBy({top:a*2,behavior:"smooth"})}d=new m(".gallery a",{captionsData:"alt",captionDelay:250});
//# sourceMappingURL=commonHelpers.js.map
