import{S as m,a as f}from"./assets/vendor-ecd4bcf3.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();let c=0;const p="41856148-e541297002e84807a45dae6d1",E=document.getElementById("search-form"),g=document.getElementById("search-input"),h=document.getElementById("gallery"),s=document.getElementById("load-more-button-container"),b=document.getElementById("load-more-button");let i=1;s.style.display="none";E.addEventListener("submit",function(t){t.preventDefault();const o=g.value.trim();y(o,p)});document.addEventListener("DOMContentLoaded",function(){u=new m(".gallery a",{})});b.addEventListener("click",()=>{I()});function y(t,o,a=1){const n=`https://pixabay.com/api/?key=${o}&q=${t}&image_type=photo&orientation=horizontal&safesearch=true&page=${a}&per_page=40`;try{L(),f.get(n).then(e=>{const r=e.data;if(d(),r.hits.length===0){v();return}C(r.hits),s.style.display="flex",c=r.totalHits||0,i*40>=c?s.style.display="none":s.style.display="flex"}).catch(e=>{console.error("Error fetching data:",e),d()})}catch(e){console.error("Error fetching data:",e),d()}}function L(){const t=document.createElement("div");t.className="loading-indicator",t.innerText="Loading...",document.body.appendChild(t)}function d(){const t=document.querySelector(".loading-indicator");t&&t.remove()}function v(){const t=document.createElement("div");t.className="toast-container";const o=document.createElement("span");o.className="decorative-icon",o.innerHTML="&#9737;";const a=document.createElement("p");a.innerText="Sorry, there are no images matching your search query. Please, try again!";const n=document.createElement("span");n.className="close-button",n.innerHTML="&times;",t.appendChild(o),t.appendChild(a),t.appendChild(n),document.body.appendChild(t),n.addEventListener("click",()=>{t.remove()})}function C(t){const o=document.createDocumentFragment();t.forEach(a=>{const n=document.createElement("a");n.href=a.webformatURL;const e=document.createElement("img");e.src=a.webformatURL,e.alt=a.tags,n.style.width="calc((100% - 32px) / 3)",n.style.height="auto",e.style.width="100%",e.style.height="100%",n.style.marginBottom="16px",n.style.display="block",n.appendChild(e),o.appendChild(n)}),h.appendChild(o),u&&u.refresh()}async function I(){i++;const t=g.value.trim();await y(t,p,i);const o=40;console.log("Current Page:",i),console.log("Total Hits:",c),console.log("Condition:",i*o>=c),i*o>=c?(s.style.display="none",console.log("Button should be hidden.")):(s.style.display="flex",console.log("Button should be visible."));const a=h.firstElementChild.clientHeight;window.scrollBy({top:a*2,behavior:"smooth"})}const u=new m(".gallery a",{captionsData:"alt",captionDelay:250});
//# sourceMappingURL=commonHelpers.js.map
